"use strict";const elementToggleFunc=function(e){e.classList.toggle("active")},sidebar=document.querySelector("[data-sidebar]"),sidebarBtn=document.querySelector("[data-sidebar-btn]");sidebarBtn.addEventListener("click",function(){elementToggleFunc(sidebar)});const select=document.querySelector("[data-select]"),selectItems=document.querySelectorAll("[data-select-item]"),selectValue=document.querySelector("[data-select-value]"),filterBtn=document.querySelectorAll("[data-filter-btn]");select.addEventListener("click",function(){elementToggleFunc(this)});for(let i=0;i<selectItems.length;i++)selectItems[i].addEventListener("click",function(){let e=this.innerText.toLowerCase();selectValue.innerText=this.innerText,elementToggleFunc(select),filterFunc(e)});const filterItems=document.querySelectorAll("[data-filter-item]"),filterFunc=function(e){for(let t=0;t<filterItems.length;t++)"all"===e?filterItems[t].classList.add("active"):e===filterItems[t].dataset.category?filterItems[t].classList.add("active"):filterItems[t].classList.remove("active")};let lastClickedBtn=filterBtn[0];for(let i=0;i<filterBtn.length;i++)filterBtn[i].addEventListener("click",function(){let e=this.innerText.toLowerCase();selectValue.innerText=this.innerText,filterFunc(e),lastClickedBtn.classList.remove("active"),this.classList.add("active"),lastClickedBtn=this});const navigationLinks=document.querySelectorAll("[data-nav-link]"),pages=document.querySelectorAll("[data-page]");let aboutAnimated=!1;for(let i=0;i<navigationLinks.length;i++)navigationLinks[i].addEventListener("click",function(){for(let e=0;e<pages.length;e++)if(this.getAttribute("data-nav-link").toLowerCase()===pages[e].dataset.page){if(pages[e].classList.add("active"),navigationLinks[i].classList.add("active"),window.scrollTo(0,0),"about"===pages[e].dataset.page){if(aboutAnimated){let t=pages[e].querySelectorAll(".typing-text");t.forEach(e=>{e.style.animation="none",e.style.opacity="1"})}else aboutAnimated=!0}}else pages[e].classList.remove("active"),navigationLinks[e].classList.remove("active")});document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("img.lazy-load"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.src=e.target.dataset.src,t.unobserve(e.target))})},{rootMargin:"100px"});e.forEach(e=>t.observe(e))}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".skills-item"),t=new IntersectionObserver(e=>{e.forEach(e=>{let t=e.target.querySelector(".skill-progress-fill"),a=e.target.querySelector("data").getAttribute("value");e.isIntersecting?t.style.width=a+"%":t.style.width="0"})},{threshold:.5});e.forEach(e=>{t.observe(e)})}),document.querySelectorAll(".skills-item").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="scale(1.02)",e.style.transition="transform 0.3s ease"}),e.addEventListener("mouseleave",()=>{e.style.transform="scale(1)"})}),emailjs.init("NM9cW87bP_AWGCteu");const form=document.querySelector("[data-form]"),formInputs=document.querySelectorAll("[data-form-input]"),formBtn=document.querySelector("[data-form-btn]"),formStatus=document.getElementById("form-status");formInputs.forEach(e=>{e.addEventListener("input",()=>{formBtn.disabled=!form.checkValidity()})}),form.addEventListener("submit",function(e){e.preventDefault(),formBtn.innerHTML='<ion-icon name="send"></ion-icon> Sending...',emailjs.sendForm("service_wrk2ofm","template_9ypxpmz",form).then(()=>{formStatus.textContent="Thank you for your submission! I will get back to you shortly.",formStatus.style.color="#ffda6b",formStatus.style.fontStyle="italic",formStatus.style.opacity="0.8",form.reset(),formBtn.innerHTML='<ion-icon name="paper-plane"></ion-icon> Send Message',formBtn.disabled=!0}).catch(e=>{console.error("Failed to send message:",e),formStatus.textContent="Failed to send message. Please try again.",formStatus.style.color="#ffda6b",formStatus.style.fontStyle="italic",formStatus.style.opacity="0.8",formBtn.innerHTML='<ion-icon name="paper-plane"></ion-icon> Send Message'})});const certificateItems=document.querySelectorAll("[data-certificate-item]");certificateItems.forEach(e=>{e.addEventListener("click",()=>{let t=e.querySelector(".timeline-item-title")?.innerText||"Certificate",a=e.querySelector("span")?.innerText||"No Date",s=e.getAttribute("data-certificate-img");if(!s){console.error("Kh\xf4ng t\xecm thấy ảnh chứng chỉ.");return}document.getElementById("certificate-modal-title").innerText=t,document.getElementById("certificate-modal-date").innerText=a,document.getElementById("certificate-modal-img").src=s,document.getElementById("certificate-modal").classList.add("show")})});const certificateModal=document.getElementById("certificate-modal"),certificateModalTitle=document.getElementById("certificate-modal-title"),certificateModalDate=document.getElementById("certificate-modal-date"),certificateModalImg=document.getElementById("certificate-modal-img"),certificateModalClose=document.getElementById("certificate-modal-close");certificateItems.forEach(e=>{e.addEventListener("click",()=>{let t=e.querySelector(".timeline-item-title").innerText,a=e.querySelector("span").innerText,s=e.getAttribute("data-certificate-img");certificateModalTitle.innerText=t,certificateModalDate.innerText=a,certificateModalImg.src=s,certificateModal.classList.add("show")})}),certificateModalClose.addEventListener("click",()=>{certificateModal.classList.remove("show")}),window.addEventListener("click",e=>{e.target!==certificateModal||certificateModalImg.contains(e.target)||certificateModal.classList.remove("show")});for(let i=0;i<navigationLinks.length;i++)navigationLinks[i].addEventListener("click",function(){for(let e=0;e<pages.length;e++)this.getAttribute("data-nav-link").toLowerCase()===pages[e].dataset.page?(pages[e].classList.add("active"),navigationLinks[i].classList.add("active")):(pages[e].classList.remove("active"),navigationLinks[e].classList.remove("active"))});document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".about-text p");e.forEach(function(e){e.addEventListener("animationend",function(){e.classList.add("animated")})})});const blogPosts={1:{title:"Defending the Proposal for the Establishment of a Club",cover:"assets/images/frc.jpg",content:`<p>The club has successfully completed its proposal defense before the IC-PDP department. The defense went smoothly and successfully, marking an important milestone in the club’s journey. Next, the club will enter a three-month trial period before being officially recognized as a school club. During this time, the club must organize at least two events or competitions to create opportunities for members to work together, understand each other better, and build stronger connections. During this period, the IC-PDP department and the school will also evaluate and make the final decision.</p>
    <br>
    <p><em>Defense team: Anh Tuan Le, Ha Phuong Hoang, Minh Tuan Ta, Quoc Minh Nguyen.</em></p>`,gallery:["assets/images/frc1.jpg","assets/images/frc2.jpg"]},2:{title:"FIRST Tech Challenge Vietnam 2024-2025",cover:"assets/images/ftc.jpg",content:"<p>#FIRSTTechChallengeVietnam #FTC #Robotics #STEM #MemorableMoments</p>",gallery:["assets/images/ftc2.jpg","assets/images/ftc16.jpg","assets/images/ftc1.jpg","assets/images/ftc3.jpg","assets/images/ftc4.JPG","assets/images/ftc5.jpg","assets/images/ftc6.JPG","assets/images/ftc17.jpeg","assets/images/ftc7.JPG","assets/images/ftc18.JPG","assets/images/ftc8.JPG","assets/images/ftc9.jpg","assets/images/ftc10.JPG","assets/images/ftc11.jpg","assets/images/ftc12.jpg","assets/images/ftc13.jpg","assets/images/ftc14.jpg","assets/images/ftc15.jpg",]}};function openBlogDetail(e){let t=blogPosts[e];if(t){let a=document.getElementById("blog-modal-cover"),s=document.getElementById("blog-modal-title"),l=document.getElementById("blog-modal-content");a.src=t.cover,s.innerText=t.title;let n=t.content;t.gallery&&t.gallery.length>0&&(n+='<div class="blog-gallery">',t.gallery.forEach(e=>{n+=`<img src="${e}" alt="Gallery Image" class="gallery-image">`}),n+="</div>"),l.innerHTML=n,document.getElementById("blog-modal").classList.add("show")}else console.error("Kh\xf4ng t\xecm thấy dữ liệu blog cho id:",e)}function closeBlogDetail(){console.log("Closing blog modal"),document.getElementById("blog-modal").classList.remove("show")}window.addEventListener("click",function(e){e.target.classList.contains("blog-modal")&&document.querySelector(".blog-modal").classList.remove("show")});